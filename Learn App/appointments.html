<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wizyty</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="container">
        <h2>Twoje wizyty</h2>
        
        <ul id="appointments-list">
            <!-- Tutaj pojawiÄ… siÄ™ wizyty -->
        </ul>

        <h3>Dodaj nowÄ… wizytÄ™</h3>
        <input type="text" id="patient-name" placeholder="ImiÄ™ i nazwisko pacjenta">
        <input type="date" id="appointment-date">
        <button onclick="addAppointment()">Dodaj wizytÄ™</button>

        <br><br>
        <button onclick="goBack()">PowrÃ³t</button>
    </div>

    <script>
        // Wczytaj wizyty z localStorage
        function loadAppointments() {
            const list = document.getElementById("appointments-list");
            list.innerHTML = "";
            const appointments = JSON.parse(localStorage.getItem("appointments")) || [];
            
            appointments.forEach((appointment, index) => {
                const li = document.createElement("li");
                li.innerHTML = `ðŸ“… ${appointment.date} - ${appointment.name} 
                <button onclick="removeAppointment(${index})">UsuÅ„</button>`;
                list.appendChild(li);
            });
        }

        // Dodaj wizytÄ™
        function addAppointment() {
            const name = document.getElementById("patient-name").value;
            const date = document.getElementById("appointment-date").value;

            if (name && date) {
                const appointments = JSON.parse(localStorage.getItem("appointments")) || [];
                appointments.push({ name, date });
                localStorage.setItem("appointments", JSON.stringify(appointments));
                loadAppointments();
            } else {
                alert("Podaj imiÄ™ pacjenta i wybierz datÄ™!");
            }
        }

        // UsuÅ„ wizytÄ™
        function removeAppointment(index) {
            const appointments = JSON.parse(localStorage.getItem("appointments")) || [];
            appointments.splice(index, 1);
            localStorage.setItem("appointments", JSON.stringify(appointments));
            loadAppointments();
        }

        // PowrÃ³t do strony gÅ‚Ã³wnej
        function goBack() {
            window.location.href = "doctor.html";
        }

        loadAppointments();
    </script>

</body>
</html>
