<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Strona pacjenta</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="container">
        <h2>Witaj, <span id="username">Pacjencie</span>!</h2>
        
        <h3>Twoje nadchodzƒÖce wizyty</h3>
        <ul id="appointments-list">
            <!-- Tutaj pojawiƒÖ siƒô wizyty pacjenta -->
        </ul>

        <br>
        <button onclick="goToResults()">Sprawd≈∫ wyniki bada≈Ñ</button>
        <button onclick="logout()">Wyloguj</button>
    </div>

    <script>
        // Pobieranie wizyt u≈ºytkownika
        function loadAppointments() {
            const list = document.getElementById("appointments-list");
            list.innerHTML = "";
            const appointments = JSON.parse(localStorage.getItem("appointments")) || [];
            
            if (appointments.length === 0) {
                list.innerHTML = "<li>Brak zaplanowanych wizyt.</li>";
            } else {
                appointments.forEach(appointment => {
                    const li = document.createElement("li");
                    li.innerHTML = `üìÖ ${appointment.date} - ${appointment.name}`;
                    list.appendChild(li);
                });
            }
        }

        // Pobieranie nazwy u≈ºytkownika (je≈õli zapisane w localStorage)
        function loadUsername() {
            const username = localStorage.getItem("username") || "Pacjencie";
            document.getElementById("username").innerText = username;
        }

        // Przej≈õcie do wynik√≥w bada≈Ñ
        function goToResults() {
            window.location.href = "resultsu.html";
        }

        // Wylogowanie (czyszczenie danych i powr√≥t do logowania)
        function logout() {
            localStorage.removeItem("username");
            window.location.href = "login.html";
        }

        loadUsername();
        loadAppointments();
    </script>

</body>
</html>
